<!DOCTYPE html>
<html>
<head>
    <title>P5 MIN</title>
    <script src="/p5js/p5/p5.min.js"></script>
    <script src="/p5js/p5/p5.geolocation.js"></script>
    <style>
        body{
            background-image: url("/media/world.jpg");
            overflow: hidden;
            /*keeps scroll bars from appearing*/
            padding: 0;
            /*ensures no gaps appearon page around edges*/
            margin: 0;
            /*ensures no gaps appearon page around edges*/
        };
        .content{
           
           
            left:0%;
            top: 0%;
        }
    </style>
</head>
<body>
    <script>
        var w = window.innerWidth;
        var h = window.innerHeight;
     var fence;
     var fenceOptions;
     let lat;
     let mlat; 
     let lon;
     let mlon; 
     
var polygon = [
    {lat: 21.309560, lon: -157.836955},  // top left  
    {lat: 21.310222, lon: -157.838802},  // top right
    {lat: 21.312261, lon: -157.839226},  // bottom right
    {lat: 21.310740, lon: -157.835932},  // bottom left
];
function setup(){
    createCanvas(w, h); //creates area as big as window
 
    if(geoCheck() == true){
		print('%c geolocation is available', "color:black; background:green;");
	}else{
		print('%c error getting geolocaion', "color:black; background:red;");
	}
    //optional options object for geoFencegeoFencePolygon
    //fence = new geoFenceCircle(polygon, insideTheFence, 'mi', fenceOptions)
     //fenceOptions = {
       //enableHighAccuracy: true,
       //timeout: 5000,
       //maximumAge: 0
     //};
    fence = new geoFencePolygon(polygon, insideTheFence, outsideTheFence, 'mi')
}

function insideTheFence(position){
    lat = position.latitude;
    lon = position.longitude;
    mlat = map(lat, -90, 90, 0, h);
 mlon = map(lon, -180, 180, 0, w);
    print("%c INlat: " + position.latitude, "color:black; background:yellow; ");
    print("%c INlong: " + position.longitude, "color:black; background:yellow; ");
    print("%c user is inside of the fence", "color:black; background:green; ");
    document.getElementById('coo').innerHTML = " in roostervelt " + position.latitude +" "+ position.longitude;
}

function outsideTheFence(position){
    lat = position.latitude;
    lon = position.longitude;
    mlat = map(lat, -90, 90, 0, h);
 mlon = map(lon, -180, 180, 0, w);
    print(mlon + " " + mlat);
    print("%c OUTlat: " + position.latitude, "color:black; background:yellow; ");
    print("%c OUTlong: " + position.longitude, "color:black; background:yellow; ");
    print("%c user is outside of the fence", "color:black; background:red; ");
    document.getElementById('coo').innerHTML = "not in roostervelt " + position.latitude +" "+ position.longitude;
}
function doThisOnLocation() {
    document.getElementById('coo').innerHTML = "not in roostervelt " + position.latitude +" "+ position.longitude;
}
function draw() {
    clear();
    fill(color(255,0,0)); //makes the ball red
    strokeWeight(0);
    ellipse(mlon, mlat, 5);
    
    //print(mlat +" "+mlon);
}
    </script>
    <h1 id="coo" class="content"></h1>
</body>
</html>
